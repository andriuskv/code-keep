(window["webpackJsonpcode-keep"]=window["webpackJsonpcode-keep"]||[]).push([[6],[,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"c":{"mimeType":"text/x-c","extension":"c","mode":"clike","type":"c","displayName":"C"},"c#":{"mimeType":"text/x-c++","extension":"cs","mode":"clike","type":"c#","displayName":"C#"},"c++":{"mimeType":"text/x-c","extension":"cpp","mode":"clike","type":"c++","displayName":"C++"},"css":{"mimeType":"text/css","extension":"css","mode":"css","type":"css","displayName":"CSS"},"go":{"mimeType":"text/plain","extension":"go","mode":"go","type":"go","displayName":"Go"},"haskell":{"mimeType":"text/plain","extension":"hs","mode":"haskell","type":"haskell","displayName":"Haskell"},"html":{"mimeType":"text/html","extension":"html","mode":"htmlmixed","type":"html","displayName":"HTML"},"java":{"mimeType":"text/x-java","extension":"java","mode":"clike","type":"java","displayName":"Java"},"javascript":{"mimeType":"text/javascript","extension":"js","mode":"javascript","type":"javascript","displayName":"JavaScript"},"jsx":{"mimeType":"text/javascript","extension":"js","mode":"jsx","type":"jsx","displayName":"JSX"},"kotlin":{"mimeType":"text/plain","extension":"kt","mode":"clike","type":"kotlin","displayName":"Kotlin"},"markdown":{"mimeType":"text/plain","extension":"md","mode":"gfm","type":"markdown","displayName":"Markdown"},"objectivec":{"mimeType":"text/x-objective-c","extension":"m","mode":"clike","type":"objectivec","displayName":"Objective-C"},"php":{"mimeType":"text/x-php","extension":"php","mode":"php","type":"php","displayName":"PHP"},"default":{"mimeType":"text/plain","extension":"txt","mode":"default","type":"default","displayName":"Plain Text"},"python":{"mimeType":"text/x-python","extension":"py","mode":"python","type":"python","displayName":"Python"},"ruby":{"mimeType":"text/x-ruby","extension":"rb","mode":"ruby","type":"ruby","displayName":"Ruby"},"rust":{"mimeType":"text/plain","extension":"rs","mode":"rust","type":"rust","displayName":"Rust"},"scala":{"mimeType":"text/x-c","extension":"scala","mode":"clike","type":"scala","displayName":"Scala"},"scss":{"mimeType":"text/x-scss","extension":"scss","mode":"css","type":"scss","displayName":"SCSS"},"shell":{"mimeType":"application/x-sh","extension":"sh","mode":"shell","type":"shell","displayName":"Shell"},"swift":{"mimeType":"text/plain","extension":"swift","mode":"swift","type":"swift","displayName":"Swift"}}')},,,,,,,function(e,t,n){e.exports=n.p+"static/media/header-image.53db26f1.png"},,,function(e,t,n){e.exports=n.p+"static/media/home-image.322e1e08.png"},,function(e,t,n){e.exports=n(48)},,,,,,,function(e,t,n){},function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){var a={"./apl/apl.js":[66,31],"./asciiarmor/asciiarmor.js":[67,32],"./asn.1/asn.1.js":[68,33],"./asterisk/asterisk.js":[69,34],"./brainfuck/brainfuck.js":[70,35],"./clike/clike.js":[54,2],"./clojure/clojure.js":[71,36],"./cmake/cmake.js":[72,37],"./cobol/cobol.js":[73,38],"./coffeescript/coffeescript.js":[55,39],"./commonlisp/commonlisp.js":[74,40],"./crystal/crystal.js":[75,41],"./css/css.js":[51,1],"./cypher/cypher.js":[76,42],"./d/d.js":[77,43],"./dart/dart.js":[78,2,44],"./diff/diff.js":[79,45],"./django/django.js":[80,0,1,12],"./dockerfile/dockerfile.js":[81,22],"./dtd/dtd.js":[82,46],"./dylan/dylan.js":[83,47],"./ebnf/ebnf.js":[84,48],"./ecl/ecl.js":[85,49],"./eiffel/eiffel.js":[86,50],"./elm/elm.js":[87,51],"./erlang/erlang.js":[88,52],"./factor/factor.js":[89,23],"./fcl/fcl.js":[90,53],"./forth/forth.js":[91,54],"./fortran/fortran.js":[92,55],"./gas/gas.js":[93,56],"./gfm/gfm.js":[94,4,21],"./gherkin/gherkin.js":[95,57],"./go/go.js":[96,58],"./groovy/groovy.js":[97,59],"./haml/haml.js":[98,0,1,15],"./handlebars/handlebars.js":[57,17],"./haskell-literate/haskell-literate.js":[99,26],"./haskell/haskell.js":[58,60],"./haxe/haxe.js":[100,61],"./htmlembedded/htmlembedded.js":[101,0,1,11],"./htmlmixed/htmlmixed.js":[50,0,1,27],"./http/http.js":[102,62],"./idl/idl.js":[103,63],"./javascript/javascript.js":[52,0],"./jinja2/jinja2.js":[104,64],"./jsx/jsx.js":[105,0,28],"./julia/julia.js":[106,65],"./livescript/livescript.js":[107,66],"./lua/lua.js":[108,67],"./markdown/markdown.js":[63,4],"./mathematica/mathematica.js":[109,68],"./mbox/mbox.js":[110,69],"./meta.js":[56,70],"./mirc/mirc.js":[111,71],"./mllike/mllike.js":[112,72],"./modelica/modelica.js":[113,73],"./mscgen/mscgen.js":[114,74],"./mumps/mumps.js":[115,75],"./nginx/nginx.js":[116,76],"./nsis/nsis.js":[117,24],"./ntriples/ntriples.js":[118,77],"./octave/octave.js":[119,78],"./oz/oz.js":[120,79],"./pascal/pascal.js":[121,80],"./pegjs/pegjs.js":[122,0,81],"./perl/perl.js":[123,82],"./php/php.js":[124,0,1,2,18],"./pig/pig.js":[125,83],"./powershell/powershell.js":[126,84],"./properties/properties.js":[127,85],"./protobuf/protobuf.js":[128,86],"./pug/pug.js":[64,0,1,3],"./puppet/puppet.js":[129,87],"./python/python.js":[59,88],"./q/q.js":[130,89],"./r/r.js":[131,90],"./rpm/rpm.js":[132,91],"./rst/rst.js":[133,14],"./ruby/ruby.js":[53,92],"./rust/rust.js":[134,25],"./sas/sas.js":[135,93],"./sass/sass.js":[61,1,94],"./scheme/scheme.js":[136,95],"./shell/shell.js":[137,96],"./sieve/sieve.js":[138,97],"./slim/slim.js":[139,0,1,16],"./smalltalk/smalltalk.js":[140,98],"./smarty/smarty.js":[141,99],"./solr/solr.js":[142,100],"./soy/soy.js":[143,0,1,19],"./sparql/sparql.js":[144,101],"./spreadsheet/spreadsheet.js":[145,102],"./sql/sql.js":[146,103],"./stex/stex.js":[60,104],"./stylus/stylus.js":[65,5],"./swift/swift.js":[147,105],"./tcl/tcl.js":[148,106],"./textile/textile.js":[149,107],"./tiddlywiki/tiddlywiki.js":[150,108],"./tiki/tiki.js":[151,109],"./toml/toml.js":[152,110],"./tornado/tornado.js":[153,0,1,13],"./troff/troff.js":[154,111],"./ttcn-cfg/ttcn-cfg.js":[156,112],"./ttcn/ttcn.js":[155,113],"./turtle/turtle.js":[157,114],"./twig/twig.js":[158,20],"./vb/vb.js":[159,115],"./vbscript/vbscript.js":[160,116],"./velocity/velocity.js":[161,117],"./verilog/verilog.js":[162,118],"./vhdl/vhdl.js":[163,119],"./vue/vue.js":[164,0,1,5,3,10],"./webidl/webidl.js":[165,120],"./xml/xml.js":[49,121],"./xquery/xquery.js":[166,122],"./yacas/yacas.js":[167,123],"./yaml-frontmatter/yaml-frontmatter.js":[168,29],"./yaml/yaml.js":[62,124],"./z80/z80.js":[169,125]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n.t(s,7)})}s.keys=function(){return Object.keys(a)},s.id=40,e.exports=s},,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(19),c=n.n(i),r=(n(30),n(31),n(32),n(5)),l=n(8),o=(n(33),n(20)),m=n.n(o);var p=function(){return s.a.createElement("header",{className:"header"},s.a.createElement("nav",{className:"header-nav"},s.a.createElement("ul",{className:"header-nav-items"},s.a.createElement("li",{className:"header-nav-item"},s.a.createElement(r.b,{to:"/",className:"header-home-link"},s.a.createElement("img",{src:m.a,alt:"CodeKeep"}))),s.a.createElement("li",{className:"header-nav-item"},s.a.createElement(r.c,{to:"/snippets",exact:!0,className:"header-link",activeClassName:"active"},"Your Snippets")))))},d=(n(38),n(23)),u=n.n(d);var f=function(){const e=navigator.userAgent.includes("Firefox");return Object(a.useEffect)(()=>{document.title="CodeKeep - Code Snippet Manager"},[]),s.a.createElement("div",{className:"home"},s.a.createElement("div",null,s.a.createElement("h2",{className:"home-intro-main-title"},"CodeKeep"),s.a.createElement("h2",{className:"home-intro-title"},"A Simple code",s.a.createElement("br",null),"snippet manager"),s.a.createElement("h3",{className:"home-intro-subtitle"},"Create and share your favorite snippets"),s.a.createElement(r.b,{to:"/snippets/create",className:"btn btn-secondary home-intro-btn"},"Get Started")),s.a.createElement("div",{className:"home-image-container".concat(e?"":" shadow")},s.a.createElement("img",{src:u.a,className:"home-image",alt:""})))},j=n(3);n(39);function h(){return Math.random().toString(32).slice(2,10)}function b(e){document.title="".concat(e," | CodeKeep")}function y(e){if("default"!==e&&"null"!==e)return n(40)("./".concat(e,"/").concat(e,".js"))}function g(e){e.setSelection({line:0,ch:0},{line:e.lastLine()+1},{scroll:!1}),e.getValue()&&e.indentSelection("smart"),e.setSelection({line:0,ch:0},{line:0,ch:0},{scroll:!1})}var v=n(10);const E=new v.a("code-keep","snippets");function w(e){return Object(v.c)(e,E)}function O(e){let t=e.name,n=e.title,a=e.className;return s.a.createElement("svg",{viewBox:"0 0 24 24",className:a},n&&s.a.createElement("title",null,n),s.a.createElement("path",{d:{trash:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",settings:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",edit:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18, 2.9 17.35,2.9 16.96, 3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z",file:"M14 2H6C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H18C19.11 22 20 21.11 20 20V8L14 2M18 20H6V4H13V9H18V20M9.54 15.65L11.63 17.74L10.35 19L7 15.65L10.35 12.3L11.63 13.56L9.54 15.65M17 15.65L13.65 19L12.38 17.74L14.47 15.65L12.38 13.56L13.65 12.3L17 15.65Z",clipboard:"M19,3H14.82C14.25,1.44 12.53,0.64 11,1.2C10.14,1.5 9.5,2.16 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M7,7H17V5H19V19H5V5H7V7M17,11H7V9H17V11M15,15H7V13H15V15Z",download:"M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z"}[t]}))}var x=n(7),k=n(11),N=n.n(k);n(41),n(42),n(43),n(44);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}let C=JSON.parse(localStorage.getItem("ce-settings"))||{indentSize:2,indentWithSpaces:!0,fontSize:16,wrapLines:!0};function L(){return C}function P(e){return C[e]}function T(e){C=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach(function(t){Object(x.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},C,{},e),localStorage.setItem("ce-settings",JSON.stringify(C))}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var D=function(e){let t=e.file,n=e.settings,i=e.readOnly,c=e.handleLoad;const r=t.id,l=t.mode,o=t.value;return Object(a.useEffect)(()=>{!async function(){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(x.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},L(),{},n),t=e.indentSize,a=e.indentWithSpaces,s=e.wrapLines;await y(l);const m=N()(document.getElementById("cm-".concat(r)),{value:o,mode:l,readOnly:i,cursorBlinkRate:i?-1:N.a.defaults.cursorBlinkRate,lineNumbers:!0,showCursorWhenSelecting:!0,lineWrapping:!i&&s,indentUnit:t,tabSize:t,autoCloseBrackets:!0,indentWithTabs:!a,viewportMargin:i?N.a.defaults.viewportMargin:1/0,theme:"dracula",disableInput:i,inputStyle:"textarea",extraKeys:{Tab:e=>{e.somethingSelected()?e.indentSelection("add"):e.replaceSelection(e.getOption("indentWithTabs")?"\t":Array(e.getOption("indentUnit")+1).join(" "),"end","+input")}}});g(m),i&&m.getInputField().setAttribute("tabindex","-1");c&&c(m,r)}()},[]),s.a.createElement("div",{id:"cm-".concat(r),className:"cm-container"})};var z=function(e){let t=e.start;const n=Object(a.useState)(l()),s=Object(j.a)(n,2),i=s[0],c=s[1];let r=0;function l(){return new Date-new Date(t)}function o(e,t,n){const a=Math.round(t/n);return"Created ".concat(a," ").concat(e).concat(a>1?"s":""," ago")}return Object(a.useEffect)(()=>(function e(){clearTimeout(r);r=setTimeout(()=>{c(l()),e()},3e4)}(),()=>{clearTimeout(r)}),[]),(m=i)<6e4?"Created just now":m<36e5?o("minute",m,6e4):m<864e5?o("hour",m,36e5):m<2592e6?o("day",m,864e5):m<315576e5?o("month",m,2592e6):o("year",m,315576e5);var m};var V=function(e){const t=Object(a.useState)([]),n=Object(j.a)(t,2),i=n[0],c=n[1],l=Object(a.useState)(!1),o=Object(j.a)(l,2),m=o[0],p=o[1];function d(e){var t;t=i[e].id,Object(v.b)(t,E),i.splice(e,1),c([...i])}return Object(a.useEffect)(()=>{!async function(){const t=await Object(v.d)(E).then(e=>Promise.all(e.map(w))).then(e=>e.sort((e,t)=>{const n=new Date(e.created),a=new Date(t.created);return n<a?1:n>a?-1:0})),n=e.location.state;if(n){const e=t.findIndex(e=>{let t=e.id;return n.id===t});e>=0?t.splice(e,1,n):t.unshift(n),c([...t]),function(e){Object(v.e)(e.id,e,E)}(n)}else c(t);p(!0),b("Your Snippets")}()},[]),m?m&&!i.length?s.a.createElement("div",{className:"snippets-message-container"},s.a.createElement("h2",null,"You don't have any snippets yet."),s.a.createElement(r.b,{to:"/snippets/create",className:"btn btn-secondary"},"Create New Snippet")):s.a.createElement(a.Fragment,null,s.a.createElement("div",{className:"snippets-header"},s.a.createElement("h2",{className:"snippets-header-title"},"Your Snippets"),s.a.createElement(r.b,{to:"/snippets/create",className:"btn btn-secondary"},"Create New Snippet")),s.a.createElement("ul",{className:"snippets"},i.map((t,n)=>s.a.createElement("li",{className:"snippet".concat(t.loaded?" loaded":""),key:t.id},s.a.createElement("h3",{className:"snippet-title"},t.title),t.description&&s.a.createElement("p",{className:"snippet-description"},t.description),s.a.createElement("div",{className:"snippet-info"},s.a.createElement("span",{className:"snippet-info-item"},t.files.length," ","File".concat(t.files.length>1?"s":"")),s.a.createElement("span",null,s.a.createElement(z,{start:t.created}))),s.a.createElement(r.b,{to:"/snippets/".concat(t.id),className:"snippet-link"},s.a.createElement(D,{file:t.files[0],settings:t.settings,readOnly:!0,handleLoad:()=>(function(e){i[e].loaded=!0,c([...i])})(n)})),s.a.createElement("div",{className:"snippet-footer"},s.a.createElement("button",{className:"btn icon-text-btn",onClick:()=>(function(t){e.history.push({pathname:"/snippets/".concat(t,"/edit")})})(t.id)},s.a.createElement(O,{name:"edit"}),s.a.createElement("span",null,"Edit")),s.a.createElement("button",{className:"btn icon-text-btn danger-btn snippet-remove-btn",onClick:()=>d(n)},s.a.createElement(O,{name:"trash"}),s.a.createElement("span",null,"Remove"))))))):null};n(45);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var M=function(e){const t=Object(a.useState)(null),i=Object(j.a)(t,2),c=i[0],r=i[1];function l(){c.loaded=!0,r(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach(function(t){Object(x.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},c))}return Object(a.useEffect)(()=>{!async function(){const t=e.match.params.id;if(t){const n=await w(t);n?(b(n.title),r(n)):e.history.replace("/snippets")}}()},[]),c?s.a.createElement("div",{className:"view"},s.a.createElement("div",{className:"view-header"},s.a.createElement("div",null,s.a.createElement("h2",{className:"view-title"},c.title),c.description&&s.a.createElement("p",{className:"view-description"},c.description),s.a.createElement("div",{className:"view-date"},s.a.createElement(z,{start:c.created}))),s.a.createElement("button",{onClick:async function(){const e=await Promise.all([n.e(126).then(n.t.bind(null,256,7)),Promise.all([n.e(8),n.e(30)]).then(n.t.bind(null,257,7))]),t=Object(j.a)(e,2),a=t[0].saveAs,s=new(0,t[1].default);c.files.forEach(e=>{s.folder("files").file(e.name,new Blob([e.value],{type:e.mimeType}))}),a(await s.generateAsync({type:"blob"}),"files.zip")},className:"btn view-header-btn"},"Download ZIP")),c.files.map(e=>s.a.createElement("div",{className:"view-editor".concat(c.loaded?" loaded":""),key:e.id},e.name&&s.a.createElement("div",{className:"view-editor-header"},s.a.createElement(O,{name:"file"}),s.a.createElement("span",{className:"view-editor-header-filename"},e.name),s.a.createElement("button",{onClick:()=>(function(e){navigator.clipboard.writeText(e).catch(e=>{console.log(e)})})(e.value),className:"btn icon-text-btn view-editor-header-btn"},s.a.createElement(O,{name:"clipboard"}),s.a.createElement("span",null,"Copy")),s.a.createElement("button",{onClick:()=>(function(e){const t=URL.createObjectURL(new Blob([e.value],{type:e.mimeType})),n=document.createElement("a");n.download=e.name,n.href=t,n.click(),setTimeout(()=>{URL.revokeObjectURL(n.href)},100)})(e),className:"btn icon-text-btn view-editor-header-btn"},s.a.createElement(O,{name:"download"}),s.a.createElement("span",null,"Download"))),s.a.createElement(D,{file:e,settings:c.settings,handleLoad:l,readOnly:!0})))):null};n(46),n(47);function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){Object(x.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var R=function(e){let t=e.hide,n=e.snippetSettings;const i=Object(a.useState)(I({},L(),{},n)),c=Object(j.a)(i,2),r=c[0],l=c[1];function o(e){let t=e.currentTarget,n=e.type,a=e.key;if("keypress"===n&&" "!==a&&"Enter"!==a)return;const s=t.getAttribute("data-name");l(I({},r,{[s]:!r[s]}))}return Object(a.useEffect)(()=>{T(r)},[r]),s.a.createElement("div",{className:"settings-container",onClick:t},s.a.createElement("div",{className:"settings"},s.a.createElement("h3",{className:"settings-title"},"Editor Settings"),s.a.createElement("label",{className:"settings-item"},s.a.createElement("div",null,"Editor font size in pixels"),s.a.createElement("input",{type:"text",className:"settings-input input",inputMode:"numeric",pattern:"\\d+",defaultValue:r.fontSize,onChange:function(e){let t=e.target,n=t.value;t.validity.valid&&n&&(n=n<10?10:n>64?64:parseInt(n,10),l(I({},r,{fontSize:n})))}})),s.a.createElement("label",{className:"settings-item"},s.a.createElement("div",null,"Indentation size"),s.a.createElement("select",{className:"select",onChange:function(e){let t=e.target;l(I({},r,{indentSize:parseInt(t.value,10)}))},value:r.indentSize},s.a.createElement("option",{value:"2"},"2"),s.a.createElement("option",{value:"4"},"4"),s.a.createElement("option",{value:"8"},"8"))),s.a.createElement("div",{className:"settings-item settings-item-checkbox checkbox-container",role:"checkbox","aria-checked":r.indentWithSpaces,tabIndex:"0",onClick:o,onKeyPress:o,"data-name":"indentWithSpaces"},s.a.createElement("div",{className:"settings-item-checkbox-label"},"Insert spaces when pressing ",s.a.createElement("b",null,"Tab")),s.a.createElement("div",{className:"checkbox".concat(r.indentWithSpaces?" checked":"")},s.a.createElement("div",{className:"checkmark"}))),s.a.createElement("div",{className:"settings-item settings-item-checkbox checkbox-container",role:"checkbox","aria-checked":r.wrapLines,tabIndex:"0",onClick:o,onKeyPress:o,"data-name":"wrapLines"},s.a.createElement("div",{className:"settings-item-checkbox-label"},"Wrap lines"),s.a.createElement("div",{className:"checkbox".concat(r.wrapLines?" checked":"")},s.a.createElement("div",{className:"checkmark"}))),s.a.createElement("button",{className:"btn text-btn settings-close-btn",onClick:e=>t(e,!0)},"Close")))},U=n(13);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach(function(t){Object(x.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var J=function(e){const t=Object(a.useState)({title:"",description:"",files:[]}),n=Object(j.a)(t,2),i=n[0],c=n[1],r=i.files;function l(){const e=i.files.length;return B({id:h(),value:"",cm:null},U[e>1?i.files[e-1].type:"javascript"])}async function o(e,t){r.find(e=>t===e.id).cm=e,c(B({},i,{loaded:!0}))}function m(e){let t=e.target;const n=t.name,a=t.value,s={[n]:a};"title"===n&&(s.titleInvalid=!a.trim()),c(B({},i,{},s))}return Object(a.useEffect)(()=>{!async function(){const t=e.match.params.id;if(t){const e=await w(t);if(e)return b("Editing ".concat(e.title)),c(B({},e,{fontSize:P("fontSize"),updating:!0})),void T(B({},L(),{},e.settings))}b("Create a new snippet"),c(B({},i,{files:[l()],fontSize:P("fontSize")}))}()},[]),s.a.createElement("div",{className:"form",style:{"--cm-font-size":"".concat(i.fontSize,"px")}},s.a.createElement("button",{className:"btn icon-text-btn form-settings-btn",onClick:function(){c(B({},i,{settingsVisible:!0}))}},s.a.createElement(O,{name:"settings"}),s.a.createElement("span",null,"Settings")),s.a.createElement("div",{className:"form-input-group"},s.a.createElement("label",{className:"form-input-group-item"},s.a.createElement("div",{className:"form-input-group-item-title"},"Title"),s.a.createElement("input",{type:"text",className:"input",value:i.title,name:"title",onChange:m}),i.titleInvalid&&s.a.createElement("div",{className:"form-input-group-item-error"},"Required")),s.a.createElement("label",{className:"form-input-group-item"},s.a.createElement("div",{className:"form-input-group-item-title"},"Description"),s.a.createElement("input",{type:"text",className:"input",value:i.description,name:"description",onChange:m}))),r.map((e,t)=>s.a.createElement("div",{className:"form-editor".concat(e.cm?" visible":""),key:e.id},s.a.createElement("div",{className:"form-editor-toolbar"},s.a.createElement("input",{type:"text",className:"input",placeholder:"Filename",autoComplete:"off",spellCheck:"false",defaultValue:e.name,onChange:e=>(function(e,t){let n=e.target;r[t].name=n.value,c(B({},i))})(e,t)}),s.a.createElement("select",{className:"select",onChange:e=>(async function(e,t){let n=e.target;const a=r[t],s=U[n.value];r[t]=B({},a,{},s),await y(s.mode),a.cm.setOption("mode",s.mode),c(B({},i))})(e,t),value:e.type},Object.keys(U).map((e,t)=>{const n=U[e];return s.a.createElement("option",{value:n.type,key:t},n.displayName)})),r.length>1&&s.a.createElement("button",{className:"btn icon-btn danger-btn",title:"Remove file",onClick:()=>(function(e){r.splice(e,1),c(B({},i))})(t)},s.a.createElement(O,{name:"trash"}))),s.a.createElement(D,{file:e,handleLoad:o,settings:i.settings}))),i.loaded&&s.a.createElement("div",{className:"form-footer"},s.a.createElement("button",{className:"btn",onClick:function(){r.push(l()),c(B({},i))}},"Add File"),s.a.createElement("button",{className:"btn",onClick:function(){if(!i.title.trim())return void c(B({},i,{titleInvalid:!0}));let t=1;const n=i.settings||L(),a=n.indentSize,s=n.indentWithSpaces,r=n.wrapLines,l=i.files.map(e=>(e.value=e.cm.getValue().trimEnd(),e.name=e.name||"file".concat(t++,".").concat(e.extension),delete e.cm,e));e.history.push({pathname:"/snippets",state:{id:i.id||h(),created:i.created||new Date,title:i.title,description:i.description,files:l,settings:{indentSize:a,indentWithSpaces:s,wrapLines:r}}})}},i.updating?"Update":"Create")),i.settingsVisible&&s.a.createElement(R,{hide:async function(e,t){let n=e.target;if(e.currentTarget===n||t){const e=L(),t={settingsVisible:!1,settings:e};i.fontSize!==e.fontSize&&(t.fontSize=e.fontSize),async function(e){let t=e.wrapLines,n=e.indentSize,a=e.indentWithSpaces;for(const s of r){const e=s.cm;e.setOption("indentUnit",n),e.setOption("tabSize",n),e.setOption("lineWrapping",t),e.setOption("indentWithTabs",!a),g(e),e.refresh()}}(e),c(B({},i,{},t))}},snippetSettings:i.settings}))};function K(){return Object(a.useEffect)(()=>{b("Page unavailable")},[]),s.a.createElement("p",{className:"no-match-message"},"This page isn't available")}const F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const n=e.installing;null!=n&&(n.onstatechange=()=>{"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(e=>{console.error("Error during service worker registration:",e)})}c.a.render(s.a.createElement(function(){return s.a.createElement(r.a,null,s.a.createElement(p,null),s.a.createElement("main",null,s.a.createElement(l.c,null,s.a.createElement(l.a,{path:"/",exact:!0,component:f}),s.a.createElement(l.a,{path:"/snippets",exact:!0,component:V}),s.a.createElement(l.a,{path:"/snippets/create",component:J,key:"create"}),s.a.createElement(l.a,{path:"/snippets/:id",exact:!0,component:M}),s.a.createElement(l.a,{path:"/snippets/:id/edit",component:J,key:"edit"}),s.a.createElement(l.a,{component:K}))))},null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/code-keep",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="".concat("/code-keep","/service-worker.js");F?(!function(e,t){fetch(e).then(n=>{const a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):Z(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):Z(t,e)})}}()}],[[25,7,9]]]);